# Personal Blog
Personal Blog — это веб-сервис для создания и управления статьями. Сервис предоставляет RESTful API для выполнения CRUD-операций над статьями, такими как создание, чтение, обновление и удаление.

## Структура проекта
Проект организован в соответствии с чистой архитектурой и разделён на следующие слои:

```
-internal
 -adapters               # Инициализация и управление подключением к базе данных
 -app                    # Инициализация и запуск приложения 
 -config                 # Конфигурация приложения
 -domain                 # Модели данных
 -handlers               # Обработчики HTTP-запросов
 -repositories           # Репозитории для работы с базой данных
 -usecases               # Бизнес-логика
```

## Технологии
- **Язык программирования:** Go
- **Фреймворк:** Gin
- **База данных:** PostgreSQL
- **Библиотеки:**
  - `pgx` — драйвер для работы с PostgreSQL
  - `squirrel` — построитель SQL-запросов
  - `slog` — логирование
  - `uuid` — генерация уникальных идентификаторов
  - `swag` - генерация swagger

## Установка и запуск
### Требования
- Установленный Go (версия 1.20 или выше)
- PostgreSQL (версия 12 или выше)

### Шаги для запуска
1. #### Клонируйте репозиторий:
```
git clone https://github.com/nikolajbotalov/articles.git
```

2. #### Настройте конфигурацию:
Создайте файл `.env` в корне проекта и укажите параметры подключения к базе данных:
```env
BIND_IP=127.0.0.1
PORT=8080
PSQL_USERNAME=postgres
PSQL_PASSWORD=admin
PSQL_HOST=localhost
PSQL_PORT=5432
PSQL_DB=blog
```
3. #### Запустите миграции:
Убедитесь, что база данных создана, и выполните миграции для создания таблиц.
4. #### Запустите приложение:
```
cd cmd/app
go run main.go
```
5. ##### Сгенерируйте Swagger-документацию (опционально)
```
swag init -g ./cmd/app/main.go -o ./docs
```


Приложение будет доступно по адресу: `http://localhost:8080`

## API Endpoints
### Статьи
- **Получить все статьи:**
  - `GET /articles/all`
  - Ответ: Список статей в формате JSON.

- **Создать статью:**
  - `POST /articles/`
  - Тело запроса (JSON):
  ```json
   {
     "author": "John Doe",
     "title": "My First Article",
     "content": "This is the content of my first article."
   }
  ```
  - Ответ: Созданная статья в формате JSON.

- **Получить статью по ID:**
  - `GET /articles/:id`
  - Ответ: Статья в формате JSON.

- **Обновить статью по ID:**
  - `PUT /articles/:id`
  - Тело запроса (JSON):
  ```json
   {
     "author": "John Doe",
     "title": "My First Article",
     "content": "This is the content of my first article."
   }
  ```
  - Ответ: Обновлённая статья в формате JSON.

- **Удалить статью по ID:**
  - `DELETE /articles/:id`
  - Ответ: Сообщение об успешном удалении.

### Логирование
Логирование осуществляется с помощью библиотеки `zap`. Логи выводятся в консоль и содержат информацию о запросах, ошибках и других важных событиях.

### Тестирование
Для тестирования API можно использовать инструменты вроде Postman или curl.